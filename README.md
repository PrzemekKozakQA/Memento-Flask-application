# MEMENTO
#### Video Demo:  <URL HERE>
#### Description:

#### 1. What is the Memento app?
Memento is a web application that helps the user learn and remember difficult concepts or words from foreign languages.

#### 2. What are the requirements to use the application?
To use the application, it is necessary to create an account. During registration, the user provides a unique username and a password consisting of at least 5 different characters. After creating an account, the user can add, edit and delete words/concepts. Only words/concepts added by the logged in user are available on each account.

#### 3. What features does the Memento app offer?
- The user can create an individual account. Once logged in, the user can add, edit and delete words/concepts in their individual account.
- In the 'Add new word' tab, the user adds a word/concept and its meaning.
- In the 'Search' tab, the user can search for words/concepts that he has already added, and then proceed to edit or delete them. It is also possible to display all words/concepts added to your account so far by entering the '%' sign in the search input.
- In the 'Memorize' tab, the user can practice his memory. After navigating to the tab, a word/concept is randomly selected. The user tries to recall its meaning, then reveals the text with the meaning and checks his memory. If the user decides that he already remembers a given word/concept well, he uses the checkbox to indicate that he no longer wants to select that word. This setting can be changed when editing a given word/concept.
- In the 'Quiz' tab, the user reads the definition and selects the word/concept that matches it. If he selects the correct word, it is highlighted in green, if the incorrect one is highlighted in red. After clicking the button, the next question is randomly selected.
- The 'My account' tab is used to change user data. It is possible to change the username if it is not occupied by another user. It is also possible to change the password and delete the account along with all information related to it.

#### 4. What is the technical stack of Memento?
The Memento application was written using the following technologies:
- Backend: Python language, Flask library and database SQLite
- Frontend: HTML, CSS using Bootstrap and Jinja. JavaScript with the JQuery library was used for dynamic elements on the pages.

#### 5. A detailed description of the application's source code:
The main project directory contains the following files:
- requirements.txt - the file contains a list of libraries that must be downloaded for the application to run

- README.md - application description file

- memento.db - SQLite database file that stores data entered by users. It contains two tables: users and words.
     - users - table contains data about registered users. Its columns are: id (INTEGER) which is the primary key, username (TEXT) and user password hash (TEXT)
     - words - table contains data about words added by the user and their definitions. Its columns are: id (INTEGER) which is the primary key, word (varchar(100)), definition (TEXT), userId to which the record belongs (this is a foreign key), isMemorized (INTEGER DEFAULT 0)

- app.py - The main application file, which contains information on what the program should do after sending requests to endpoints. It also contains the Flask application configuration along with user session settings.
     - for the main endpoint "/" renders the application welcome page
     - if the user enters a non-existent endpoint, it renders the page with error information and appropriate graphics
     - endpoint "/register" in the case of the GET method renders the page with the registration form. In the case of the POST method it checks: whether the username is not empty or already in use, checks whether the password and its confirmation have at least 5 different characters and are identical. If everything is correct, it saves the new user's data to the database. If any errors occur, they are displayed to the user, and if the registration is successful, the user is logged in and a welcome message appears. Additionally, the endpoint returns information whether the username is unused for the POST request sent by scripts using AJAX.
     - The "login/" endpoint is responsible for logging in. First, it logs the user out if he or she was logged in. For the GET method, it renders a page with a login form, and for the POST method with a username and password, it checks: whether the username and password have been provided, and then whether the username is in the database. Finally, the hash of the provided password is compared to the hash stored for the provided user. If the result is positive, the user is logged in and redirected to the home page. If an error occurs at any stage, an appropriate message is displayed to the user.
     - The "/logout" endpoint is responsible for logging out the user. After sending a request to it, the file with the user's session is cleared.
     - The "/account" endpoint renders a page for editing user data. It is only available to logged in users.
     - The "/user/rename" endpoint is responsible for renaming the user. After sending a new name using the POST method, it is checked whether such a user already exists, if not, a change is possible and the new name is saved. If the name is already taken or an empty name was provided, an appropriate message is returned.
     - The "/password/change" endpoint is responsible for changing the user's password. After sending the old password, new password and its confirmation via POST, the data is validated. If the old password is correct and the new password and its confirmation are the same and contain at least 5 different characters, the password is changed and the user is logged out. If any errors occur, appropriate information is displayed for the user. Endpoint is available only to the logged in user.
     - The "/user/delete" endpoint is responsible for deleting the user account and all entered data. After the POST request, all user data is deleted from the database, the user session is cleared and the user is redirected to the main page with information about deleting the account displayed.
     - The "/add" endpoint is responsible for rendering a page with a form for adding a new word/concept.
     - The "/search" endpoint is responsible for rendering a page for searching for words/concepts added by the user.
     - The "/words" endpoint supports two methods. For the GET method, it returns JSON with a list of information about words starting with the text in the "q" parameter. If there was a "%" sign in the q parameter, then information about all words/concepts added by the user is returned. The POST method will save the submitted word/concept and its definition. If such a word/concept has already been saved, a message will be displayed informing user that the same word/concept cannot be added.
     - The "/words/<id>" endpoint, where <id> is the id of the record in the database, supports GET, POST and DELETE methods. For the GET method, it returns data about the word/concept with the id specified in the path. For the POST method, it updates the data, previously validating it as when adding a new word/concept. For the DELETE method, it removes the record with the id given in the path from the database.
     - The "/memorize" endpoint for the GET method renders a web page containing a random word/concept saved to the database by the user, unless it has been marked as remembered. For the POST method, it updates whether the word is marked as remembered if the user has changed this marking.
     - The "/quiz" endpoint handles in-app quiz functions. For the GET method, a page is rendered with a definition and 4 words/concepts to choose from, only one of which is correct. The page is only rendered if the user has added at least 4 words/concepts to the database, otherwise appropriate information is displayed. The POST method is used to receive the user's response. If the answer is correct, JSON is returned with the status "right", if not, the status is "wrong".

- helpers.py - the file contains methods separated from the app.py file for better code readability. These methods are used many times in the code in the app.py file.   
     - login_required() - method borrowed from http://flask.pocoo.org/docs/0.12/patterns/viewdecorators/. It is used to force the user to log in before sending requests to endpoints marked with the @login_required decorator.
     - get_username_err(username) - the method returns a possible error related to the username passed to it. If username is empty or has the None type, appropriate information is returned. If the username is already in use, information is also returned. If everything is OK, an empty string is returned
     - is_password_and_confirmation_valid(password, confirmation) - the method checks whether the password and its confirmation sent to it meet the requirements, i.e. whether they are not empty or of type None, contain at least 5 different characters and whether the password and confirmation are identical. If the requirements are met, True is returned, otherwise False.
     - is_word_or_def_empty(word, definition) - the method checks whether the word/concept and its definition are empty or of type None. If they are, True is returned, if not, False.
     - is_word_repeated(word) - the method checks whether the word/concept given in the parameter is already saved by the user in the database. If so, True is returned, if not, False is returned.

- templates - folder containing the file from which the application's web pages are rendered.
     - layout.html -contains the HTML code that will be presented on every page of the application. In the header, in addition to meta data, it contains links to CSS files and JS scripts from the Bootstrap library. References to my CSS style files and JS script are  also added. Next, an icon and page title are added and appear in the browser tab. In the main part of the page there is a div in which warnings and information for the user will appear. Below it is the navigation bar. The content differs for logged in and non-logged in users. A non-logged in user only sees the "Log in" and "Register" options, while a logged in user sees the "Add new word", "Search", "Memorize", "Quiz", "My account" and "Log out" tabs. Then there is a section whose content will change depending on the page displayed. At the bottom of the page there is a footer with my name and surname and information that this is a CS50 final project.
     - 404.html - It contains information that the user is probably lost and a graphic with a lost kitten.
     - index.html - The application's welcome page contains information about the Memento application in the form of drop-down cards.
     - account.html - user account page. Include three sections in the form of drop-down tabs. The first section contains a form that allows the user to change their username. The second section allows the user to change their password. In the form, the user must provide the old password, new password and confirmation of the new password. If any field has not been completed or the new password and its confirmation do not meet the conditions described on the website, the JS script loaded on the website will display a warning. The third section contains a form that allows the user to delete account. The user confirms the desire to delete the account by clicking the button, which reveals an input in which he must enter his username. If the name matches, the account deletion button is activated.
     - add.html - The page contains a form for adding a new word/concept. It has the "word/concept", "definition" fields, the "I remember that" checkbox and the "save" button. None of the fields can be empty. Data validation is handled by a separate JS script.
     - login.html - Login page with a form for username and password. If the user enters incorrect data and confirms them with the "Log In" button, the page will reload without logging in and an appropriate error message will be displayed. After entering the correct data and confirmation, you will be logged in and the main page of the application will be displayed.
     - memorize.html - The website is intended for memory training. If a list of words to remember is not provided during its rendering, a message will be displayed that no words/concepts to remember were found. If words/concepts to remember are provided, the word/concept will be displayed and its definition will be available after expanding the tab. The user can check the "Mark a word/concept as remembered" checkbox, then after using the 'Next' button, this information will be saved in the database.
     - quiz.html - On the website, the user can take part in a quiz about the knowledge of the definitions he has added. If at least 4 records are not found in the database, information will be displayed that there is not enough data to run the quiz. If the data is available, the definition will be displayed and four buttons will appear, only one of which contains the matching word/concept. After pressing the button, the JS script will check the answer and change the color of the button to green if it is the correct answer or red if it is incorrect. The "Next" button is used to select the next question.
     - register.html -There is a registration form on this page. At first, only one input is visible for entering the username and a button to check the name. If the name is incorrect or already in use, a message will be displayed. If the name is usable, fields will appear to enter the password and confirm it. After using the "Register new user" button, a form with registration data will be sent.
     - search.html - This page displays a search form for words added by the user and search results are added dynamically. The results are displayed in table form. The table shows the name of the word/concept, definition, and a checkbox with information about whether the word is remembered. The last columns include buttons for editing or deleting the selected record.
     - word.html - the page presents a form similar to the one used to add a word/concept, but with fields filled with previously saved data. It is used to edit an already written word/concept.

- static - folder contains CSS files and JS scripts
     - style.css - the file contains custom styles added to the selected elements
     - js - folder with files containing JavaScript scripts
          - account.js - the script is used to validate data entered in forms on the user account. The first one checks the correctness of the data when changing the password, the second one displays input after pressing the button in the account deletion form, and the third one checks whether the username provided in this form is consistent with the username and activates the account deletion button. If the user enters incorrect data, an error message is dynamically added to the page.
          - add.js - Script used on the page with a form for adding a new word/concept. Displays a warning if the user enters incorrect data. Additionally, it prevents entering too long text in the word/concept input.
          - helpers.js - the file contains a method for displaying a message to the user on the page. The method has been separated into file because it is used in many scripts.
          - layout.js - flash message hiding script with fade effect
          - memorize.js - The script is used to send information to the backend that the displayed word/concept should be saved as remembered. After correctly saving the information, the page should be reloaded.
          - quiz.js - the file contains scripts supporting the quiz function. The first script allows the user to reload the page after clicking the appropriate button. The next script sends the user's answer by clicking the button. Then this script reads the response and changes the color of the button. The button is red if the answer was incorrect. If the answer is correct, the button is green and all other buttons are deactivated.
          - register.js - JS scripts in this file check the correctness of data entered into the registration form. The first script checks whether the username has been entered, and if so, it sends it to the backend for checking. If it is available, inputs for entering the password and a registration button appear, if not, an error message is displayed. The second script checks the correctness of the entered password and its confirmation. Checks whether inputs are not empty, contain the same text and have at least 5 different characters. If the validation is negative, an error message is displayed.
          - search.js - The first script is used to dynamically display search results. It sends the entered text to the backend and reads the list to be displayed from the response. Then, it adds the elements of this list to the table by adding HTML code to the page. If the results list is empty, an appropriate message is displayed. The second script is used to send a request to the backend that deletes the record displayed in the search results.